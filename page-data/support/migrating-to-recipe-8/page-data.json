{"componentChunkName":"component---src-components-markdown-js","path":"/support/migrating-to-recipe-8","result":{"data":{"markdownRemark":{"html":"<p>To facilitate the usage of Recipe across a broader set of projects including ezCater's marketplace, a new release of Recipe was published. This release is a <strong>major version release</strong> and as such, <strong>will require migration steps</strong> for applications that currently use Recipe version 7.x or below.</p>\n<h2 id=\"breaking-changes\" style=\"position:relative;\"><a href=\"#breaking-changes\" aria-label=\"breaking changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Breaking changes</h2>\n<p>The breaking changes are detailed in the Recipe <a href=\"/recipe/changelog/#800---2019-12-16\">release notes for version 8.0.0</a>, but can be summarized as follows:</p>\n<ol>\n<li>Recipe's base font size has changed from 14px to 16px.</li>\n<li>Applications that need to support IE11 will now require a polyfill for CSS custom properties.</li>\n</ol>\n<h2 id=\"migration-steps\" style=\"position:relative;\"><a href=\"#migration-steps\" aria-label=\"migration steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Migration steps</h2>\n<h3 id=\"base-font-size\" style=\"position:relative;\"><a href=\"#base-font-size\" aria-label=\"base font size permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Base font size</h3>\n<p>Applications using Recipe today that are not ready to migrate to a base font size of 16px can continue to use their current base font size by adding the new <a href=\"/recipe/components/ez-base-font-size-compatibility\">EzBaseFontSizeCompatibility</a> component to the top-level entry point(s) for their application.</p>\n<p>This component should be used as a sibling element to other content as shown below:</p>\n<pre><code class=\"language-js\">&#x3C;>\n  &#x3C;EzBaseFontSizeCompatibility />\n  &#x3C;EzPage>\n    &#x3C;EzCard title=\"Card Heading\">\n      &#x3C;p>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ultrices finibus purus, in\n        maximus diam molestie nec. Aenean maximus eget lacus sed lobortis.\n      &#x3C;/p>\n    &#x3C;/EzCard>\n  &#x3C;/EzPage>\n&#x3C;/>\n</code></pre>\n<h3 id=\"ie-11-support\" style=\"position:relative;\"><a href=\"#ie-11-support\" aria-label=\"ie 11 support permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IE 11 support</h3>\n<p>Applications that need to support IE11 will now require a polyfill for CSS custom properties. It is important that this polyfill is applied <strong>before defining component styles with emotion</strong>.</p>\n<p>This typically means that the polyfill can be added at the top-level entry point(s) of your application.</p>\n<p><strong>with script include</strong>:</p>\n<pre><code class=\"language-html\">&#x3C;script>\n  if (!window.CSS || !CSS.supports('color', 'var(--a)')) {\n    var js = document.createElement('script');\n    js.src = 'https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2';\n    js.onload = function() {\n      cssVars({watch: true});\n    };\n    document.head.appendChild(js);\n  }\n&#x3C;/script>\n&#x3C;script src=\"/my-application-bundle.js\">&#x3C;/script>\n</code></pre>\n<p>OR</p>\n<p><strong>with module import</strong>:</p>\n<pre><code class=\"language-js\">// in file src/client.js\n// before all other imports\nimport './cssVars';\n\n// in file src/cssVars.js\nimport cssVars from 'css-vars-ponyfill';\n\ncssVars({watch: true});\n</code></pre>\n<p>Including the <code>css-vars-ponyfill</code> and initializing it in watch mode allows the polyfill to intercept dynamically inserted styles in order to re-write them with syntax supported by browsers that would otherwise not support custom properties.</p>\n<p>In order for the <code>css-vars-ponyfill</code> to work with emotion, you must also disable emotion's speedy mode (Emotion enables speedy by default in production builds):</p>\n<pre><code class=\"language-js\">import {sheet} from 'emotion';\n\nsheet.speedy(false);\n</code></pre>\n<p>Emotion's speedy mode uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model\">CSSOM APIs</a> to insert dynamic style rules into the page. However, legacy browsers don't understand CSS custom properties and so when a rule is inserted that contains either a custom property declaration or <code>var()</code> function, that declaration or function is dropped from the <code>CSSRule.cssText</code> value. This behavior prevents any polyfill from rewriting those styles.</p>\n<p>Disabling emotion's speedy mode allows emotion to insert styles as text content of a style node. This allows <code>css-vars-ponyfill</code> to read the unvalidated text content directly, rather than the <code>CSSRule.cssText</code>.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To facilitate the usage of Recipe across a broader set of projects including ezCater's marketplace, a new release of Recipe was published. This release is a "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"major version release"}]},{"type":"text","value":" and as such, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"will require migration steps"}]},{"type":"text","value":" for applications that currently use Recipe version 7.x or below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"breaking-changes","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#breaking-changes","ariaLabel":"breaking changes permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Breaking changes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The breaking changes are detailed in the Recipe "},{"type":"element","tagName":"a","properties":{"href":"/recipe/changelog/#800---2019-12-16"},"children":[{"type":"text","value":"release notes for version 8.0.0"}]},{"type":"text","value":", but can be summarized as follows:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Recipe's base font size has changed from 14px to 16px."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Applications that need to support IE11 will now require a polyfill for CSS custom properties."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"migration-steps","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#migration-steps","ariaLabel":"migration steps permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Migration steps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"base-font-size","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#base-font-size","ariaLabel":"base font size permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Base font size"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Applications using Recipe today that are not ready to migrate to a base font size of 16px can continue to use their current base font size by adding the new "},{"type":"element","tagName":"a","properties":{"href":"/recipe/components/ez-base-font-size-compatibility"},"children":[{"type":"text","value":"EzBaseFontSizeCompatibility"}]},{"type":"text","value":" component to the top-level entry point(s) for their application."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This component should be used as a sibling element to other content as shown below:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"<>\n  <EzBaseFontSizeCompatibility />\n  <EzPage>\n    <EzCard title=\"Card Heading\">\n      <p>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ultrices finibus purus, in\n        maximus diam molestie nec. Aenean maximus eget lacus sed lobortis.\n      </p>\n    </EzCard>\n  </EzPage>\n</>\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ie-11-support","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#ie-11-support","ariaLabel":"ie 11 support permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"IE 11 support"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Applications that need to support IE11 will now require a polyfill for CSS custom properties. It is important that this polyfill is applied "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"before defining component styles with emotion"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This typically means that the polyfill can be added at the top-level entry point(s) of your application."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"with script include"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-html"]},"children":[{"type":"text","value":"<script>\n  if (!window.CSS || !CSS.supports('color', 'var(--a)')) {\n    var js = document.createElement('script');\n    js.src = 'https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2';\n    js.onload = function() {\n      cssVars({watch: true});\n    };\n    document.head.appendChild(js);\n  }\n</script>\n<script src=\"/my-application-bundle.js\"></script>\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"OR"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"with module import"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"// in file src/client.js\n// before all other imports\nimport './cssVars';\n\n// in file src/cssVars.js\nimport cssVars from 'css-vars-ponyfill';\n\ncssVars({watch: true});\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Including the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"css-vars-ponyfill"}]},{"type":"text","value":" and initializing it in watch mode allows the polyfill to intercept dynamically inserted styles in order to re-write them with syntax supported by browsers that would otherwise not support custom properties."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order for the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"css-vars-ponyfill"}]},{"type":"text","value":" to work with emotion, you must also disable emotion's speedy mode (Emotion enables speedy by default in production builds):"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"import {sheet} from 'emotion';\n\nsheet.speedy(false);\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Emotion's speedy mode uses "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model"},"children":[{"type":"text","value":"CSSOM APIs"}]},{"type":"text","value":" to insert dynamic style rules into the page. However, legacy browsers don't understand CSS custom properties and so when a rule is inserted that contains either a custom property declaration or "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var()"}]},{"type":"text","value":" function, that declaration or function is dropped from the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"CSSRule.cssText"}]},{"type":"text","value":" value. This behavior prevents any polyfill from rewriting those styles."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Disabling emotion's speedy mode allows emotion to insert styles as text content of a style node. This allows "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"css-vars-ponyfill"}]},{"type":"text","value":" to read the unvalidated text content directly, rather than the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"CSSRule.cssText"}]},{"type":"text","value":"."}]}],"data":{"quirksMode":false}},"frontmatter":{"path":"/support/migrating-to-recipe-8","title":"Migrating to Recipe 8","name":null,"tags":null}}},"pageContext":{}},"staticQueryHashes":["3052156184","771875118","771875118"]}