{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./src/components/Preview.js"],"names":["_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","Parent","args","Class","a","push","apply","instance","Function","bind","arguments","opts","objectAssign","transforms","dangerousForOf","dangerousTaggedTemplateString","poly","assign","target","_varArgs","TypeError","to","index","length","nextSource","nextKey","hasOwnProperty","ErrorBoundary","state","hasError","getDerivedStateFromError","render","this","props","children","React","Component","Eval","code","scope","codeTrimmed","trim","replace","result","scopeKeys","keys","scopeValues","map","key","evalCode","buble","createElement","Container"],"mappings":"0JAAe,SAASA,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBG,OAAOC,gBAAkB,SAAyBH,EAAGC,GAErE,OADAD,EAAEI,UAAYH,EACPD,IAGcA,EAAGC,GCNb,SAASI,IACtB,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,mBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKC,UAAUC,SAASC,KAAKP,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOI,GACP,OAAO,GCPI,SAAS,EAAWC,EAAQC,EAAMC,GAc/C,OAZE,EADE,IACWX,QAAQC,UAER,SAAoBQ,EAAQC,EAAMC,GAC7C,IAAIC,EAAI,CAAC,MACTA,EAAEC,KAAKC,MAAMF,EAAGF,GAChB,IACIK,EAAW,IADGC,SAASC,KAAKH,MAAML,EAAQG,IAG9C,OADID,GAAO,EAAeI,EAAUJ,EAAMN,WACnCU,IAIOD,MAAM,KAAMI,W,yECZ1BC,EAAO,CACXC,aAAc,eACdC,WAAY,CACVC,gBAAgB,EAChBC,+BAA+B,IAI7BC,EAAO,CACXC,OAAQ,SAAgBC,EAAQC,GAE9B,GAAID,QACF,MAAM,IAAIE,UAAU,8CAKtB,IAFA,IAAIC,EAAKjC,OAAO8B,GAEPI,EAAQ,EAAGA,EAAQZ,UAAUa,OAAQD,IAAS,CACrD,IAAIE,EAAad,UAAUY,GAE3B,GAAIE,QACF,IAAK,IAAIC,KAAWD,EACdpC,OAAOS,UAAU6B,eAAe3B,KAAKyB,EAAYC,KACnDJ,EAAGI,GAAWD,EAAWC,IAKjC,OAAOJ,IAWLM,E,oJACJC,MAAQ,CAACC,UAAU,G,4BAEZC,yBAAP,WACE,MAAO,CAACD,UAAU,I,YAGpBE,OAAA,WACE,OAAIC,KAAKJ,MAAMC,SACN,iDAGFG,KAAKC,MAAMC,U,GAZMC,IAAMC,WAgBrBC,EAAO,SAAC,GAA6B,IAAD,IAA3BC,YAA2B,MAApB,GAAoB,MAAhBC,aAAgB,MAAR,GAAQ,EAEzCC,EAAcF,EAAKG,OAAOC,QAAQ,KAAM,IAExCC,EA3BS,SAACL,EAAMC,GACtB,IAAMK,EAAYxD,OAAOyD,KAAKN,GACxBO,EAAcF,EAAUG,KAAI,SAAAC,GAAG,OAAIT,EAAMS,MAE/C,OADS,EAAOxC,SAAP,CAAgB,QAAS,SAAzB,mBAAqCoC,GAArC,CAAgDN,KAC/C,WAAH,GAAItB,EAAMmB,KAAV,mBAAoBW,KAuBZG,CADKC,YAAA,WAA2BV,EAA3B,IAA2C7B,GAAM2B,KAAKG,OACrCF,GACrC,MAAyB,mBAAXI,EAAwBR,IAAMgB,cAAcR,EAAQ,MAAQA,GAGtES,EAAS,iJAUA,sBAAoB,IAAlBd,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,MACrB,OACE,cAACa,EAAD,KACE,cAAC,EAAD,KACE,cAAC,EAAD,CAAMd,KAAMA,EAAMC,MAAOA,KAG3B,yBACE,0BAAOD","file":"15-d6305ab00560df851f61.js","sourcesContent":["export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import React from 'react';\nimport styled from '@emotion/styled';\nimport * as buble from 'buble/dist/buble-browser-deps.umd.js';\n\nconst opts = {\n  objectAssign: '_poly.assign',\n  transforms: {\n    dangerousForOf: true,\n    dangerousTaggedTemplateString: true,\n  },\n};\n\nconst poly = {\n  assign: function assign(target, _varArgs) {\n    'use strict';\n    if (target === null || target === undefined) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments[index];\n\n      if (nextSource !== null && nextSource !== undefined) {\n        for (var nextKey in nextSource) {\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  },\n};\n\nconst evalCode = (code, scope) => {\n  const scopeKeys = Object.keys(scope);\n  const scopeValues = scopeKeys.map(key => scope[key]);\n  const res = new Function('_poly', 'React', ...scopeKeys, code);\n  return res(poly, React, ...scopeValues);\n};\n\nclass ErrorBoundary extends React.Component {\n  state = {hasError: false};\n\n  static getDerivedStateFromError() {\n    return {hasError: true};\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport const Eval = ({code = '', scope = {}}) => {\n  // NOTE: Remove trailing semicolon to get an actual expression.\n  const codeTrimmed = code.trim().replace(/;$/, '');\n  const transformed = buble.transform(`return (${codeTrimmed})`, opts).code.trim();\n  const result = evalCode(transformed, scope);\n  return typeof result === 'function' ? React.createElement(result, null) : result;\n};\n\nconst Container = styled.div`\n  border: 1px solid #ced4d9;\n  padding: 20px;\n\n  > * + * {\n    margin-top: 1em;\n    margin-bottom: 0;\n  }\n`;\n\nexport default ({code, scope}) => {\n  return (\n    <Container>\n      <ErrorBoundary>\n        <Eval code={code} scope={scope} />\n      </ErrorBoundary>\n\n      <pre>\n        <code>{code}</code>\n      </pre>\n    </Container>\n  );\n};\n"],"sourceRoot":""}